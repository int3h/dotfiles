#!/usr/bin/env bash

# Require confirmation when deleting >3 files or a directory; be verbose.
alias rm='rm -Iv'

# Detailed file listing; show hidden files; append a '/' to directories; use human-readable sizes;
# colorize the output when not piped into another command.
alias ls='ls -lAph --color=auto'
# Simplified `ls`: don't show hidden files; show directories first; human readable sizes; colorized.
alias lsd='command ls -lph --color=auto --group-directories-first'

# Run n make processes in parallel, where n = (number of CPUs) + 1
alias make="make -j $(( $(nproc) + 1 ))"

# Use '{}' as a placeholder for arguments to xargs
alias xargs='xargs -I{}'

# Shorter alias to grep a fixed string; case insensitive; ignore binary files.
alias fg='fgrep -iI'

# Fat fingers
alias sudp='sudo'

# Shortcut to cd to my current homesick castle directory
alias castle='cd $(homesick show_path)'

# Create a new tmux session with a given name
alias tnew='tmux new -s'
# Connct to an existing tmux session with a given name
alias topen='tmux a -t'

#################################
##### Ubuntu default setup
#################################

# enable color support of ls and also add handy aliases
if [ -x /usr/bin/dircolors ]; then
    test -r ~/.dircolors && eval "$(dircolors -b ~/.dircolors)" || eval "$(dircolors -b)"
    #alias dir='dir --color=auto'
    #alias vdir='vdir --color=auto'

    alias grep='grep --color=auto'
    alias fgrep='fgrep --color=auto'
    alias egrep='egrep --color=auto'
fi

# Add an "alert" alias for long running commands.  Use like so:
#   sleep 10; alert
alias alert='notify-send --urgency=low -i "$([ $? = 0 ] && echo terminal || echo error)" "$(history|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&|]\s*alert$//'\'')"'
